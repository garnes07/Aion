$(function(){var t=$("#formContainer"),i=$("#exception"),r=$("#wf1"),n=!1;$("#crReminder").modal("show");Date.prototype.getWeek=function(){var n=new Date(this.getFullYear(),0,1);return Math.ceil(((this-n)/864e5+n.getDay()+1)/7)};Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return t.setDate(t.getDate()+n),t};$("#confException").click(function(){n=!0;i.val(1);t.submit()});$("#cancException").click(function(){n=!1;i.val(0);$("#crException").modal("toggle")});$("input[type=date]").attr({value:r.attr("today"),min:r.attr("min")});t.submit(function(t){var i=!0,r=!1;$(this).find('[id*="grp"]').each(function(){var f=$(this).find("select").eq(0).val(),e=$(this).find("select").eq(1).val(),o=$(this).find("input").eq(3).val(),t=o.split("-"),u=new Date(t[0],t[1]-1,t[2]),n=new Date;n.setHours(0,0,0,0);(n.getDay()<=1&&u<n.addDays(n.getDay())||n.getDay()==5&&u.getHours()>=15||n.getDay()==6&&u<n.addDays(7-n.getDay()))&&(r=!0);f>e?($(this).find(".alert").length||$(this).append('<div class="alert alert-danger text-center"><strong>Start time must be earlier than end time!<\/strong><\/div>'),i=!1):$(".alert",this).remove()});$("#_branchValidate").data("valid")===0&&(i=!1,$("#_branchValidate").addClass("alert alert-danger"));i&&(!r||n)||t.preventDefault();i&&r&&!n&&(t.preventDefault(),$("#crException").modal("toggle"))})});