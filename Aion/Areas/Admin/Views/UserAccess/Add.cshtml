@model Aion.DAL.Entities.UserAccess

@{
    ViewBag.Title = "Add";
}

<div class="container-fluid">
    <div class="card">
        <div class="card-body">
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                <div class="form-horizontal">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group form-row">
                        @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "col-2 col-form-label" })
                        <div class="col-10">
                            @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="form-group form-row">
                        <label class="col-2 col-form-label">Access Level</label>
                        <select name="AccessLevel" class="col-10 form-control">
                            <option value="2">WFM Lead</option>
                            <option value="3">RM</option>
                            <option value="4">DD</option>
                            <option value="5">RD</option>
                            <option value="6">TPC/HRBP</option>
                            <option value="7">Head Office (excl. WFM)</option>
                            <option value="9">WFM Admin</option>
                        </select>
                    </div>
                    <div class="form-group form-row">
                        <label class="col-2 col-form-label">Access Level</label>
                        <select name="AreaLevel" class="col-10 form-control">
                            <option value="2">Region</option>
                            <option value="3">Division</option>
                            <option value="4">Chain</option>
                            <option value="5">All</option>
                        </select>
                    </div>
                    <div class="form-group form-row">
                        @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "col-2 col-form-label" })
                        <div class="col-10">
                            @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <hr />
                    <h5>Access Areas</h5>
                    <div id="areasContainer">
                        <div class="form-group form-row">
                            <input class="form-control col-4" name="areas[0]">
                        </div>
                    </div>
                    <button id="add" type="button" class="btn btn-success btn-sm"><i class="icon ion-plus-circled"></i>Add</button>
                    <hr />
                    <div class="form-group row justify-content-center">
                        <button type="submit" class="btn btn-success btn-lg">Submit</button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@section myScripts{
<script>
    $(function () {
        var template = '<div class="form-group form-row"><input class="form-control col-4" name="areas[0]"></div>'
        var $areasContainer = $('#areasContainer');
        var counter = 1;

        $('#add').click(function () {
            var toAppend = template.replace('0', counter);
            $areasContainer.prepend(toAppend);
            grpCount++;
        });
    });
</script>    
}